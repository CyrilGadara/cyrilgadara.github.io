var yall=function(){"use strict";return function(e){var n=(e=e||{}).lazyClass||"lazy",t=e.lazyBackgroundClass||"lazy-bg",o="idleLoadTimeout"in e?e.idleLoadTimeout:200,i=e.observeChanges||!1,r=e.events||{},a=e.noPolyfill||!1,s=window,l="requestIdleCallback",c="IntersectionObserver",u=c in s&&c+"Entry"in s,d=/baidu|(?:google|bing|yandex|duckduck)bot/i.test(navigator.userAgent),v=["srcset","src","poster"],f=[],b=function(e,o){return f.slice.call((o||document).querySelectorAll(e||"img."+n+",video."+n+",iframe."+n+",."+t))},g=function(n){var o=n.parentNode;"PICTURE"==o.nodeName&&h(b("source",o),m),"VIDEO"==n.nodeName&&h(b("source",n),m),m(n);var i=n.classList;i.contains(t)&&(i.remove(t),i.add(e.lazyBackgroundLoaded||"lazy-bg-loaded"))},y=function(e){for(var n in r)e.addEventListener(n,r[n].listener||r[n],r[n].options||void 0)},m=function(e){for(var t in v)if(v[t]in e.dataset){e.setAttribute(v[t],e.dataset[v[t]]);var o=e.parentNode;"SOURCE"===e.nodeName&&o.autoplay&&(o.load(),/Trident/.test(navigator.userAgent)&&o.play(),o.classList.remove(n)),e.classList.remove(n)}},h=function(e,n){for(var t=0;t<e.length;t++)s[c]&&n instanceof s[c]?n.observe(e[t]):n(e[t])},p=b();if(h(p,y),u&&!d){var L=new s[c]((function(e){h(e,(function(e){if(e.isIntersecting||e.intersectionRatio){var n=e.target;l in s&&o?s[l]((function(){g(n)}),{timeout:o}):g(n),L.unobserve(n),(p=p.filter((function(e){return e!=n}))).length||i||L.disconnect()}}))}),{rootMargin:("threshold"in e?e.threshold:200)+"px 0%"});h(p,L),i&&h(b(e.observeRootSelector||"body"),(function(n){new MutationObserver((function(){h(b(),(function(e){p.indexOf(e)<0&&(p.push(e),y(e),u&&!d?L.observe(e):(a||d)&&h(p,g))}))})).observe(n,e.mutationObserverOptions||{childList:!0,subtree:!0})}))}else(a||d)&&h(p,g)}}();
//# sourceMappingURL=yall.min.js.map